[gd_scene load_steps=19 format=3 uid="uid://b4pqbp85pfaw5"]

[ext_resource type="PackedScene" uid="uid://oak2a85ikl0d" path="res://player/Player.tscn" id="1_5le0k"]
[ext_resource type="Script" path="res://scripts/general_script.gd" id="1_8yawa"]
[ext_resource type="PackedScene" uid="uid://wjxf5pt6bq2p" path="res://ui/Elements/Timer/UI_Timer.tscn" id="6_o0wk6"]
[ext_resource type="Texture2D" uid="uid://bcc17ikw7s7at" path="res://ui/Images/UI_shield.png" id="6_s4wa0"]
[ext_resource type="Script" path="res://scripts/OrdersController.gd" id="6_u5e3h"]
[ext_resource type="Resource" uid="uid://bms6w2cjkng7" path="res://recipes/shield.tres" id="7_7srjl"]
[ext_resource type="PackedScene" uid="uid://co3psefpehp0b" path="res://ui/Elements/Points/UI_Points.tscn" id="8_drioi"]
[ext_resource type="Resource" uid="uid://82jsikiecvkl" path="res://recipes/spear.tres" id="8_n4f6w"]
[ext_resource type="PackedScene" uid="uid://bode7lhib546p" path="res://interactables/storage/storage.tscn" id="8_r4xfv"]
[ext_resource type="PackedScene" uid="uid://ds13jc88emg6b" path="res://interactables/trash/trash.tscn" id="9_4l3rv"]
[ext_resource type="Resource" uid="uid://bd5k53oviw0wl" path="res://recipes/staff.tres" id="9_woln8"]
[ext_resource type="PackedScene" uid="uid://bfw5bfequ0g0x" path="res://interactables/table/table.tscn" id="10_naw8p"]
[ext_resource type="Resource" uid="uid://cwktcxkefau7h" path="res://recipes/sword.tres" id="10_q8ln3"]
[ext_resource type="PackedScene" uid="uid://bfqpo5vryw575" path="res://interactables/forge/forge.tscn" id="12_ymthb"]
[ext_resource type="Resource" uid="uid://bxprkkhwfok6" path="res://items/iron.tres" id="14_iefvc"]
[ext_resource type="Resource" uid="uid://cuxyo3sqva6qp" path="res://items/wood.tres" id="15_i0au3"]
[ext_resource type="PackedScene" uid="uid://drxlqqfv1yty1" path="res://interactables/deliver/deliver.tscn" id="19_qe31l"]
[ext_resource type="Texture2D" uid="uid://cdh7p2q2aixxi" path="res://Art/stage_background.png" id="20_t2wt8"]

[node name="complete_game" type="Node2D"]
script = ExtResource("1_8yawa")

[node name="Player" parent="." instance=ExtResource("1_5le0k")]
position = Vector2(290, 53)
scale = Vector2(2, 2)
collision_mask = 2

[node name="HoldingItem" type="TextureRect" parent="Player"]
visible = false
offset_left = -5.0
offset_top = 7.5
offset_right = 260.0
offset_bottom = 278.5
scale = Vector2(0.0399541, 0.0399541)
texture = ExtResource("6_s4wa0")

[node name="Camera2D" type="Camera2D" parent="Player"]
offset = Vector2(128, -64)
zoom = Vector2(2.1, 2.1)
limit_left = -110
limit_top = -70
limit_right = 400
limit_bottom = 225
limit_smoothed = true
editor_draw_limits = true

[node name="InGame_CanvasLayer" type="CanvasLayer" parent="."]
layer = 3

[node name="Orders" type="GridContainer" parent="InGame_CanvasLayer"]
anchors_preset = 10
anchor_right = 1.0
offset_left = 50.0
offset_top = 20.0
offset_right = 50.0
offset_bottom = 220.0
grow_horizontal = 2
scale = Vector2(0.75, 0.75)
theme_override_constants/h_separation = 50
theme_override_constants/v_separation = 200
columns = 2
script = ExtResource("6_u5e3h")
max_orders = 4
item_list = Array[Resource("res://scripts/order.gd")]([ExtResource("7_7srjl"), ExtResource("8_n4f6w"), ExtResource("9_woln8"), ExtResource("10_q8ln3")])

[node name="OrderCountDown" type="Timer" parent="InGame_CanvasLayer/Orders"]

[node name="Timer" type="MarginContainer" parent="InGame_CanvasLayer"]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -169.035
offset_top = -88.13
offset_right = -9.03467
offset_bottom = -8.13
grow_horizontal = 0
grow_vertical = 0

[node name="UiTimer" parent="InGame_CanvasLayer/Timer" instance=ExtResource("6_o0wk6")]
layout_mode = 2

[node name="Points" type="MarginContainer" parent="InGame_CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 10.85
offset_top = -89.23
offset_right = 250.85
offset_bottom = -9.22998
grow_vertical = 0

[node name="UiPoints" parent="InGame_CanvasLayer/Points" instance=ExtResource("8_drioi")]
layout_mode = 2

[node name="LevelTimer" type="Timer" parent="."]

[node name="Scene" type="Sprite2D" parent="."]
z_index = -10
position = Vector2(139, 64)
scale = Vector2(0.297043, 0.297043)
texture = ExtResource("20_t2wt8")

[node name="Node2D" type="Node2D" parent="Scene"]
position = Vector2(-467.946, -215.457)
scale = Vector2(3.36652, 3.36652)

[node name="Table" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(83, -21)
scale = Vector2(3.59093, 3.55945)

[node name="Table2" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(83, 25)
scale = Vector2(3.55945, 3.55945)

[node name="Table3" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(83, 119)
scale = Vector2(3.55945, 3.55945)

[node name="Table4" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(83, 166)
scale = Vector2(3.55945, 3.55945)

[node name="Table5" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(130, 166)
scale = Vector2(3.55945, 3.55945)

[node name="Table6" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(177, 166)
scale = Vector2(3.55945, 3.55945)

[node name="Table9" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(313, 167)
scale = Vector2(3.55945, 3.55945)

[node name="Table10" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(359, 167)
scale = Vector2(3.55945, 3.55945)

[node name="Table11" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(359, 122)
scale = Vector2(3.55945, 3.55945)

[node name="Table13" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(359, 27)
scale = Vector2(3.55945, 3.55945)

[node name="Table14" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(359, -20)
scale = Vector2(3.55945, 3.55945)

[node name="Table15" parent="Scene/Node2D" instance=ExtResource("10_naw8p")]
position = Vector2(223, -22)
scale = Vector2(3.55945, 3.55945)

[node name="StaticBody2D" type="StaticBody2D" parent="Scene/Node2D"]
collision_layer = 3
collision_mask = 3

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Scene/Node2D/StaticBody2D"]
position = Vector2(106, -42)
build_mode = 1
polygon = PackedVector2Array(0, 43, -0.999992, 185, 230, 187, 230, 42, 139, 43, 139, 87.9999, 94.9999, 87.9999, 93.9999, 42)

[node name="Deliver" parent="Scene" instance=ExtResource("19_qe31l")]
position = Vector2(356.851, 333.285)
rotation = -1.55956
scale = Vector2(11.3888, 11.3888)

[node name="IronStorage" parent="Scene" instance=ExtResource("8_r4xfv")]
position = Vector2(-198.624, 26.9321)
scale = Vector2(13.7021, 13.7021)
storage_material = ExtResource("14_iefvc")

[node name="WoodStorage" parent="Scene" instance=ExtResource("8_r4xfv")]
position = Vector2(747.367, 37.0317)
scale = Vector2(13.4178, 13.4178)
storage_material = ExtResource("15_i0au3")

[node name="Trash" parent="Scene" instance=ExtResource("9_4l3rv")]
position = Vector2(282.788, -134.661)
scale = Vector2(10.7729, 10.7729)

[node name="Forge" parent="Scene" instance=ExtResource("12_ymthb")]
position = Vector2(47.1313, -296.254)
scale = Vector2(6.73304, 6.73304)

[node name="Forge2" parent="Scene" instance=ExtResource("12_ymthb")]
position = Vector2(515.078, -296.254)
scale = Vector2(6.73304, 6.73304)

[connection signal="timeout" from="InGame_CanvasLayer/Orders/OrderCountDown" to="InGame_CanvasLayer/Orders" method="_on_order_count_down_timeout"]
[connection signal="timeout" from="LevelTimer" to="." method="_on_level_timer_timeout"]
